# Binance 数据工具集

这个目录包含了一系列用于获取和分析币安交易所数据的工具。

## 工具列表

### 1. get_klines_qsy.py

由于币安不支持历史数据按秒级获取，因此如果想分析秒级的数据，需要自己收集：
- 功能：获取币安交易所指定交易对的K线数据并保存到SQLite数据库
- 用法：`./get_klines_qsy.py <交易对> <运行时间(秒)>`
- 示例：`./get_klines_qsy.py btcusdt 3600`

### 2. analys_db.py
- 功能：分析数据库中k线数据的时间戳间隔
- 用途：检查k线数据的连续性和完整性
- 用法：直接运行 `./analys_db.py`

### 3. dbinfo.sh
- 功能：统计当前目录下所有.db文件的基本信息
- 用途：快速了解数据库文件的状态和内容
- 用法：直接运行 `./dbinfo.sh`

## 数据库结构

K线数据库表结构(klines):
- close_time: K线收盘时间戳(毫秒)
- close_price: 收盘价
- volume: 交易量
- quote_volume: 计价货币交易量

## 使用建议

1. 建议先使用 get_klines_qsy.py 收集数据
2. 使用 dbinfo.sh 查看数据库基本信息
3. 使用 analys_db.py 检查数据完整性

## 注意事项

- 所有工具需要在同一目录下运行
- 确保有足够的磁盘空间存储数据
- 建议定期备份重要的数据库文件


## 存储空间估算



每条K线数据占用空间:
- close_time: 8字节 (64位整型)
- close_price: 8字节 (64位浮点)
- volume: 8字节 (64位浮点) 
- quote_volume: 8字节 (64位浮点)

总计: 32字节/条

按秒级K线收集数据:
- 每秒1条 = 32字节
- 每小时3600条 = 115,200字节 ≈ 0.11MB
- 每天86400条 = 2,764,800字节 ≈ 2.64MB
- 每年31,536,000条 = 1,009,152,000字节 ≈ 963MB

按分钟级K线收集数据:
- 每分钟1条 = 32字节
- 每小时60条 = 1,920字节 ≈ 0.002MB
- 每天1440条 = 46,080字节 ≈ 0.044MB
- 每年525,600条 = 16,819,200字节 ≈ 16MB


由于币安不支持历史数据按秒级获取，因此如果想分析秒级的数据，需要自己收集

因此每个交易对按秒级K线收集,每天大约需要2.64MB存储空间。建议预留足够磁盘空间用于长期数据收集。

